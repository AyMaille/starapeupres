<%
=begin %>  <% ruby_code %>
<div class="super-container-show">
  <ul>
    <li class="booking-card" style="background-image: url('<%= cl_image_path @mission.star.photo.key, height: 400, crop: :fill %>')">
      <div class="book-container">
        <div class="content">
        </div>
      </div>
      <div class="informations-container">
        <h2 class="title"><%= @mission.name %></h2>
        <p class="sub-title"><%= @mission.special_request %></p>
        <p class="price"><svg class="icon" style="width:24px;height:24px" viewBox="0 0 24 24">
      <path fill="currentColor" d="M3,6H21V18H3V6M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M7,8A2,2 0 0,1 5,10V14A2,2 0 0,1 7,16H17A2,2 0 0,1 19,14V10A2,2 0 0,1 17,8H7Z" />
  </svg><%= @mission.price %> €</p>
        <div class="more-information">
          <div class="info-and-date-container">
            <div class="box info">
              <svg class="icon" style="width:24px;height:24px" viewBox="0 0 24 24">
        <path fill="currentColor" d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z" />
    </svg>
              <p><%= @mission.address %></p>
            </div>
            <div class="box date">
              <svg class="icon" style="width:24px;height:24px" viewBox="0 0 24 24">
        <path fill="currentColor" d="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z" />
    </svg>
              <p><%= @mission.booking %></p>
            </div>
          </div>
          <p class="disclaimer">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quasi eveniet perferendis culpa. Expedita architecto nesciunt, rem distinctio</p>
          <%= link_to 'Retour', missions_path(@mission.star), class:"btn btn-primary"%>
          <%= link_to 'Modifier', edit_mission_path, class:"btn btn-warning" %>
          <%= link_to "Supprimer",
              mission_path(@mission),
              method: :delete,
              data: { confirm: "Etes vous sûr?" }, class:"btn btn-danger" %>
          </div>
      </div>
    </li>
  </ul>
</div>

<%
=end %>

<div class="super-container-show">
  <h1>Ma réservation</h1>
     <section class="cards">
          <div class="card">
          <div class="card__overlay">
            <%= link_to 'Retour', missions_path(@mission.star), class:"btn btn-primary"%>
            <%= link_to 'Modifier', edit_mission_path, class:"btn btn-warning" %>
            <%= link_to "Supprimer",
                mission_path(@mission),
                method: :delete,
                data: { confirm: "Etes vous sûr?" }, class:"btn btn-danger" %>
            </div>
            <div class="card__image" style="background-image:url('<%= cl_image_path @mission.star.photo.key, height: 400, crop: :fill %>')"></div>
            <div class="card__content">
              <div class="card__title"><%= @mission.name%>  <%= @mission.price %> €</div>
              <div class="card__description">
                <%= @mission.special_request %>
              </div>
            </div>
            <div class="card__date">
              <svg class="icon" style="width:24px;height:24px" viewBox="0 0 24 24">
               <path fill="currentColor" d="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z" />
              </svg>
               <%= @mission.booking %>
            </div>
            <div class="card__price">Addresse : <%= @mission.address %></div>
          </div>
      </section>

      <%# curseur-etoile %>
<script type="text/javascript">
  _uacct = "UA-994360-1";
  urchinTracker();
  </script><script type="text/javascript">
  var colour="#7C5B1A";
  var sparkles=50;
  var x=ox=400;
  var y=oy=300;
  var swide=800;
  var shigh=600;
  var sleft=sdown=0;
  var tiny=new Array();
  var star=new Array();
  var starv=new Array();
  var starx=new Array();
  var stary=new Array();
  var tinyx=new Array();
  var tinyy=new Array();
  var tinyv=new Array();
  window.onload=function() { if (document.getElementById) {
  var i, rats, rlef, rdow;
  for (var i=0; i<sparkles; i++) {
  var rats=createDiv(3, 3);
  rats.style.visibility="hidden";
  document.body.appendChild(tiny[i]=rats);
  starv[i]=0;
  tinyv[i]=0;
  var rats=createDiv(5, 5);
  rats.style.backgroundColor="transparent";
  rats.style.visibility="hidden";
  var rlef=createDiv(1, 5);
  var rdow=createDiv(5, 1);
  rats.appendChild(rlef);
  rats.appendChild(rdow);
  rlef.style.top="2px";
  rlef.style.left="0px";
  rdow.style.top="0px";
  rdow.style.left="2px";
  document.body.appendChild(star[i]=rats);
  }
  set_width();
  sparkle();
  }}
  function sparkle() {
  var c;
  if (x!=ox || y!=oy) {
  ox=x;
  oy=y;
  for (c=0; c<sparkles; c++) if (!starv[c]) {
  star[c].style.left=(starx[c]=x)+"px";
  star[c].style.top=(stary[c]=y)+"px";
  star[c].style.clip="rect(0px, 5px, 5px, 0px)";
  star[c].style.visibility="visible";
  starv[c]=50;
  break;
  }
  }
  for (c=0; c<sparkles; c++) {
  if (starv[c]) update_star(c);
  if (tinyv[c]) update_tiny(c);
  }
  setTimeout("sparkle()", 40);
  }
  function update_star(i) {
  if (--starv[i]==25) star[i].style.clip="rect(1px, 4px, 4px, 1px)";
  if (starv[i]) {
  stary[i]+=1+Math.random()*3;
  if (stary[i]<shigh+sdown) {
  star[i].style.top=stary[i]+"px";
  starx[i]+=(i%5-2)/5;
  star[i].style.left=starx[i]+"px";
  }
  else {
  star[i].style.visibility="hidden";
  starv[i]=0;
  return;
  }
  }
  else {
  tinyv[i]=50;
  tiny[i].style.top=(tinyy[i]=stary[i])+"px";
  tiny[i].style.left=(tinyx[i]=starx[i])+"px";
  tiny[i].style.width="2px";
  tiny[i].style.height="2px";
  star[i].style.visibility="hidden";
  tiny[i].style.visibility="visible"
  }
  }
  function update_tiny(i) {
  if (--tinyv[i]==25) {
  tiny[i].style.width="1px";
  tiny[i].style.height="1px";
  }
  if (tinyv[i]) {
  tinyy[i]+=1+Math.random()*3;
  if (tinyy[i]<shigh+sdown) {
  tiny[i].style.top=tinyy[i]+"px";
  tinyx[i]+=(i%5-2)/5;
  tiny[i].style.left=tinyx[i]+"px";
  }
  else {
  tiny[i].style.visibility="hidden";
  tinyv[i]=0;
  return;
  }
  }
  else tiny[i].style.visibility="hidden";
  }
  document.onmousemove=mouse;
  function mouse(e) {
  set_scroll();
  y=(e)?e.pageY:event.y+sdown;
  x=(e)?e.pageX:event.x+sleft;
  }
  function set_scroll() {
  if (typeof(self.pageYOffset)=="number") {
  sdown=self.pageYOffset;
  sleft=self.pageXOffset;
  }
  else if (document.body.scrollTop || document.body.scrollLeft) {
  sdown=document.body.scrollTop;
  sleft=document.body.scrollLeft;
  }
  else if (document.documentElement && (document.documentElement.scrollTop || document.documentElement.scrollLeft)) {
  sleft=document.documentElement.scrollLeft;
  sdown=document.documentElement.scrollTop;
  }
  else {
  sdown=0;
  sleft=0;
  }
  }
  window.onresize=set_width;
  function set_width() {
  if (typeof(self.innerWidth)=="number") {
  swide=self.innerWidth;
  shigh=self.innerHeight;
  }
  else if (document.documentElement && document.documentElement.clientWidth) {
  swide=document.documentElement.clientWidth;
  shigh=document.documentElement.clientHeight;
  }
  else if (document.body.clientWidth) {
  swide=document.body.clientWidth;
  shigh=document.body.clientHeight;
  }
  }
  function createDiv(height, width) {
  var div=document.createElement("div");
  div.style.position="absolute";
  div.style.height=height+"px";
  div.style.width=width+"px";
  div.style.overflow="hidden";
  div.style.backgroundColor=colour;
  return (div);
  }
  // ]]>
  </script>

</div>
